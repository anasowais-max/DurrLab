<pre lang="markdown"> ```markdown # Z-Stack Capture A Python CLI tool to automate Z-stack acquisition by controlling a Thorlabs PFM450 stage and capturing images with a Basler camera. ## Features - Automatically discover and initialize the Thorlabs PFM450 stage. - Control precise stage movement with configurable slice depth. - Capture high-resolution images using a Basler camera via pypylon. - Save output as sequentially numbered PNG slices. ## Installation 1. **Clone the repository** ```bash git clone https://github.com/&lt;your-username&gt;/zstack-capture.git cd zstack-capture ``` 2. **Create and activate a virtual environment (optional but recommended)** ```bash python3 -m venv venv source venv/bin/activate # on Windows: venv\Scripts\activate ``` 3. **Install dependencies** ```bash pip install -r requirements.txt ``` ## Usage ```bash python slice_capture.py --slices 20 --step 0.05 --outdir ./images --settle 0.3 --home ``` ### CLI Arguments | Argument | Type | Description | Default | |--------------|---------|----------------------------------------------------------|------------| | `--slices` | `int` | Number of images to capture | **Required** | | `--step` | `float` | Distance in mm between each slice | `0.1` | | `--outdir` | `str` | Directory to save output images | `./images` | | `--settle` | `float` | Time to wait (in seconds) after moving stage | `0.5` | | `--home` | `flag` | Home the stage before starting the capture sequence | `False` | ## Example To capture 30 images with 0.1mm spacing and save them to a folder named `data`: ```bash python slice_capture.py --slices 30 --step 0.1 --outdir data --home ``` ## Project Structure ``` zstack-capture/ ├── .gitignore ├── LICENSE ├── README.md ├── requirements.txt └── slice_capture.py ``` ## Requirements Dependencies are listed in [requirements.txt](./requirements.txt), and include: - `pypylon` - `pystage-apt` - `Pillow` - `numpy` ## License This project is licensed under the MIT License. See [LICENSE](./LICENSE) for details. ``` </pre>
